<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One Piece TCG Database</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">One Piece TCG</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link {% if active_tab == 'cards' %}active{% endif %}" href="/">Card Database</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if active_tab == 'decks' %}active{% endif %}" href="/decks">Deck Builder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/view_decks">View Decks</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container mt-4">
        <h1>One Piece TCG Cards</h1>

        <form method="POST" action="/" class="mb-3">
            <div class="row g-3">
                <div class="col-md-4">
                    <label for="color">Filter by Color:</label>
                    <select name="color" id="color" class="form-select">
                        <option value="" {% if not selected_color %}selected{% endif %}>All Colors</option>
                        <option value="Red" {% if selected_color == "Red" %}selected{% endif %}>Red</option>
                        <option value="Green" {% if selected_color == "Green" %}selected{% endif %}>Green</option>
                        <option value="Blue" {% if selected_color == "Blue" %}selected{% endif %}>Blue</option>
                        <option value="Yellow" {% if selected_color == "Yellow" %}selected{% endif %}>Yellow</option>
                        <option value="Purple" {% if selected_color == "Purple" %}selected{% endif %}>Purple</option>
                        <option value="Black" {% if selected_color == "Black" %}selected{% endif %}>Black</option>
                    </select>
                </div>
                  <div class="col-md-4">
                    <label for="rarity">Filter by Rarity:</label>
                    <select name="rarity" id="rarity" class="form-select">
                        <option value="" {% if not selected_rarity %}selected{% endif %}>All Rarities</option>
                        <option value="C" {% if selected_rarity == "C" %}selected{% endif %}>C</option>
                        <option value="UC" {% if selected_rarity == "UC" %}selected{% endif %}>UC</option>
                        <option value="R" {% if selected_rarity == "R" %}selected{% endif %}>R</option>
                        <option value="SR" {% if selected_rarity == "SR" %}selected{% endif %}>SR</option>
                        <option value="SEC" {% if selected_rarity == "SEC" %}selected{% endif %}>SEC</option>
                    </select>
                </div>
                 <div class="col-md-4">
                    <label for="counter">Filter by Counter:</label>
                    <select name="counter" id="counter" class="form-select">
                        <option value="" {% if not selected_counter %}selected{% endif %}>All Counters</option>
                        <option value="null" {% if selected_counter == "null" %}selected{% endif %}>No Counter</option>
                        <option value="1000" {% if selected_counter == "1000" %}selected{% endif %}>1000</option>
                        <option value="2000" {% if selected_counter == "2000" %}selected{% endif %}>2000</option>
                    </select>
                </div>
                 <div class="col-md-4">
                    <label for="card_type">Filter by Card Type:</label>
                    <select name="card_type" id="card_type" class="form-select">
                        <option value="" {% if not selected_card_type %}selected{% endif %}>All Card Types</option>
                        <option value="Character" {% if selected_card_type == "Character" %}selected{% endif %}>Character</option>
                        <option value="Event" {% if selected_card_type == "Event" %}selected{% endif %}>Event</option>
                        <option value="Stage" {% if selected_card_type == "Stage" %}selected{% endif %}>Stage</option>
                        <option value="Leader" {% if selected_card_type == "Leader" %}selected{% endif %}>Leader</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="cost">Filter by Cost:</label>
                    <select name="cost" id="cost" class="form-select">
                        <option value="" {% if not selected_cost %}selected{% endif %}>All Costs</option>
                        <option value="0" {% if selected_cost == "0" %}selected{% endif %}>0</option>
                        <option value="1" {% if selected_cost == "1" %}selected{% endif %}>1</option>
                        <option value="2" {% if selected_cost == "2" %}selected{% endif %}>2</option>
                        <option value="3" {% if selected_cost == "3" %}selected{% endif %}>3</option>
                        <option value="4" {% if selected_cost == "4" %}selected{% endif %}>4</option>
                        <option value="5" {% if selected_cost == "5" %}selected{% endif %}>5</option>
                        <option value="6" {% if selected_cost == "6" %}selected{% endif %}>6</option>
                        <option value="7" {% if selected_cost == "7" %}selected{% endif %}>7</option>
                        <option value="8" {% if selected_cost == "8" %}selected{% endif %}>8</option>
                        <option value="9" {% if selected_cost == "9" %}selected{% endif %}>9</option>
                        <option value="10" {% if selected_cost == "10" %}selected{% endif %}>10</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="set">Filter by Set:</label>
                    <select name="set" id="set" class="form-select">
                        <option value="" {% if not selected_set %}selected{% endif %}>All Sets</option>
                        <option value="OP01" {% if selected_set == "OP01" %}selected{% endif %}>OP01</option>
                        <option value="OP02" {% if selected_set == "OP02" %}selected{% endif %}>OP02</option>
                        <option value="OP03" {% if selected_set == "OP03" %}selected{% endif %}>OP03</option>
                        <option value="OP04" {% if selected_set == "OP04" %}selected{% endif %}>OP04</option>
                        <option value="OP05" {% if selected_set == "OP05" %}selected{% endif %}>OP05</option>
                        <option value="OP06" {% if selected_set == "OP06" %}selected{% endif %}>OP06</option>
                        <option value="OP07" {% if selected_set == "OP07" %}selected{% endif %}>OP07</option>
                        <option value="OP08" {% if selected_set == "OP08" %}selected{% endif %}>OP08</option>
                    </select>
                </div>
                 <div class="col-md-4">
                    <label for="year">Filter by Year:</label>
                    <select name="year" id="year" class="form-select">
                        <option value="" {% if not selected_year %}selected{% endif %}>All Years</option>
                        <option value="1" {% if selected_year == "1" %}selected{% endif %}>1: 2022-2023</option>
                        <option value="2" {% if selected_year == "2" %}selected{% endif %}>2: 2023-2024</option>
                    </select>
                </div>
                <div class="col-md-4 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary">Filter</button>
                </div>
            </div>
        </form>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Card ID</th>
                    <th>Name</th>
                    <th>Colour</th>
                    <th>Rarity</th>
                    <th>Cost</th>
                    <th>Power</th>
                    <th>Type</th>
                    <th>Set ID</th>
                </tr>
            </thead>
            <tbody>
                {% for card in cards %}
                <tr>
                    <td>{{ card[0] }}</td>
                    <td>{{ card[1] }}</td>
                    <td>{{ card[2] }}</td>
                    <td>{{ card[3] }}</td>
                    <td>{{ card[4] }}</td>
                    <td>{{ card[5] }}</td>
                    <td>{{ card[6] }}</td>
                    <td>{{ card[8] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
    </div>
</body>
</html>