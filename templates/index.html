<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One Piece TCG Database</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>One Piece TCG Cards</h1>

        <form method="POST" action="/" class="mb-3">
            <div class="row g-3">
                <div class="col-md-4">
                    <label for="color">Filter by Color:</label>
                    <select name="color" id="color" class="form-select">
                        <option value="" {% if not selected_color %}selected{% endif %}>All Colors</option>
                        <option value="Red" {% if selected_color == "Red" %}selected{% endif %}>Red</option>
                        <option value="Green" {% if selected_color == "Green" %}selected{% endif %}>Green</option>
                        <option value="Blue" {% if selected_color == "Blue" %}selected{% endif %}>Blue</option>
                        <option value="Yellow" {% if selected_color == "Yellow" %}selected{% endif %}>Yellow</option>
                        <option value="Purple" {% if selected_color == "Purple" %}selected{% endif %}>Purple</option>
                        <option value="Black" {% if selected_color == "Black" %}selected{% endif %}>Black</option>

                    </select>
                </div>
                <div class="col-md-4">
                    <label for="cost">Filter by Cost:</label>
                    <select name="cost" id="cost" class="form-select">
                        <option value="" {% if not selected_cost %}selected{% endif %}>All Costs</option>
                        <option value="0" {% if selected_cost == "0" %}selected{% endif %}>0</option>
                        <option value="1" {% if selected_cost == "1" %}selected{% endif %}>1</option>
                        <option value="2" {% if selected_cost == "2" %}selected{% endif %}>2</option>
                        <option value="3" {% if selected_cost == "3" %}selected{% endif %}>3</option>
                        <option value="4" {% if selected_cost == "4" %}selected{% endif %}>4</option>
                        <option value="5" {% if selected_cost == "5" %}selected{% endif %}>5</option>
                        <option value="6" {% if selected_cost == "6" %}selected{% endif %}>6</option>
                        <option value="7" {% if selected_cost == "7" %}selected{% endif %}>7</option>
                        <option value="8" {% if selected_cost == "8" %}selected{% endif %}>8</option>
                        <option value="9" {% if selected_cost == "9" %}selected{% endif %}>9</option>
                        <option value="10" {% if selected_cost == "10" %}selected{% endif %}>10</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="set">Filter by Set:</label>
                    <select name="set" id="set" class="form-select">
                        <option value="" {% if not selected_cost %}selected{% endif %}>All Sets</option>
                        <option value="OP01" {% if selected_cost == "0" %}selected{% endif %}>OP01</option>
                        <option value="OP02" {% if selected_cost == "1" %}selected{% endif %}>OP02</option>
                        <option value="OP03" {% if selected_cost == "2" %}selected{% endif %}>OP03</option>
                        <option value="OP04" {% if selected_cost == "3" %}selected{% endif %}>OP04</option>
                        <option value="OP05" {% if selected_cost == "4" %}selected{% endif %}>OP05</option>
                        <option value="OP06" {% if selected_cost == "5" %}selected{% endif %}>OP06</option>
                    </select>
                </div>
                <div class="col-md-4 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary">Filter</button>
                </div>
            </div>
        </form>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Card ID</th>
                    <th>Name</th>
                    <th>Colour</th>
                    <th>Rarity</th>
                    <th>Cost</th>
                    <th>Power</th>
                    <th>Type</th>
                    <th>Set ID</th>
                </tr>
            </thead>
            <tbody>
                {% for card in cards %}
                <tr>
                    <td>{{ card[0] }}</td>
                    <td>{{ card[1] }}</td>
                    <td>{{ card[2] }}</td>
                    <td>{{ card[3] }}</td>
                    <td>{{ card[4] }}</td>
                    <td>{{ card[5] }}</td>
                    <td>{{ card[6] }}</td>
                    <td>{{ card[8] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>